# 必须保留的配置 - Nacos 连接信息本身
spring.application.name=nacos-demo-service

# Nacos 配置中心连接信息（必须先知道Nacos地址才能拉取配置）
spring.cloud.nacos.config.server-addr=127.0.0.1:8848
spring.cloud.nacos.config.namespace=public
spring.cloud.nacos.config.group=DEFAULT_GROUP
spring.cloud.nacos.config.file-extension=properties
spring.cloud.nacos.config.refresh-enabled=true

# Nacos 服务发现连接信息
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848
spring.cloud.nacos.discovery.namespace=public
spring.cloud.nacos.discovery.group=DEFAULT_GROUP

# 配置导入指令
spring.config.import=optional:nacos:${spring.application.name}-local.properties

# 日志配置（建议保留本地，因为日志系统启动较早）
logging.config=classpath:logback-spring.xml
logging.file.name=logs/nacos-demo-service.log

# ======================
# RabbitMQ 基础连接配置 (集群)
# ======================
# 配置集群节点地址，用逗号分隔
spring.rabbitmq.addresses=localhost:5672
spring.rabbitmq.username=rabbit
spring.rabbitmq.password=ghxk6379
spring.rabbitmq.virtual-host=/

# ======================
# 消费者监听器配置
# ======================
# 消息确认模式：manual（手动确认）
spring.rabbitmq.listener.simple.acknowledge-mode=manual
# 每个消费者每次预取的消息数量
spring.rabbitmq.listener.simple.prefetch=1

# ======================
# 自定义应用配置
# ======================
# 自定义的队列、交换机及路由键名称
myapp.rabbitmq.queue=demo.queue
myapp.rabbitmq.exchange=demo.exchange
myapp.rabbitmq.routing-key=demo.key
# 新增Topic模式配置
myapp.rabbitmq.topic.exchange=demo.topic.exchange


# MongoDB Replica Set Configuration for Production
spring.data.mongodb.uri=mongodb://root:password123@127.0.0.1:27017/mydatabase?replicaSet=rs0&authSource=admin&readPreference=secondaryPreferred&retryWrites=true&w=majority

# 设置 MongoDB 驱动包的日志级别为 WARN，以减少连接相关的 INFO 日志输出
logging.level.org.mongodb.driver=WARN
# 更精确地设置 connection 和 cluster 相关日志的级别
logging.level.org.mongodb.driver.connection=WARN
logging.level.org.mongodb.driver.cluster=WARN
